RewriteEngine On

# Define o caminho base dependendo do domínio
RewriteCond %{HTTP_HOST} ^localhost [NC]
RewriteRule ^ - [E=BASE_PATH:/Moonlight/Public]

RewriteCond %{HTTP_HOST} !^localhost [NC]
RewriteRule ^ - [E=BASE_PATH:/]

# Redireciona de http e www para https (só em produção)
# RewriteCond %{HTTP_HOST} !^localhost [NC]
# RewriteCond %{HTTPS} off [OR]
# RewriteCond %{HTTP_HOST} ^www\. [NC]
# RewriteRule ^ https://websiteinsano%{REQUEST_URI} [L,R=302]

# Roteamento
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php?param=$1 [QSA,L]